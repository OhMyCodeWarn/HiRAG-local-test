"""
Reference:
 - Prompts are from [graphrag](https://github.com/microsoft/graphrag)
"""

GRAPH_FIELD_SEP = "<SEP>"
PROMPTS = {}

PROMPTS[
    "claim_extraction"
] = """\
-Целевая деятельность-
Вы - интеллектуальный помощник, который помогает аналитику-человеку анализировать утверждения против определенных сущностей, представленных в текстовом документе.

-Цель-
Дан текстовый документ, который потенциально релевантен для этой деятельности, спецификация сущности и описание утверждения. Извлеките все сущности, которые соответствуют спецификации сущности, и все утверждения против этих сущностей.

-Шаги-
1. Извлеките все именованные сущности, которые соответствуют предопределенной спецификации сущности. Спецификация сущности может быть либо списком имен сущностей, либо списком типов сущностей.
2. Для каждой сущности, идентифицированной на шаге 1, извлеките все утверждения, связанные с сущностью. Утверждения должны соответствовать указанному описанию утверждения, и сущность должна быть субъектом утверждения.
Для каждого утверждения извлеките следующую информацию:
- Субъект: имя сущности, которая является субъектом утверждения, с заглавной буквы. Сущность-субъект - это та, которая совершила действие, описанное в утверждении. Субъект должен быть одной из именованных сущностей, идентифицированных на шаге 1.
- Объект: имя сущности, которая является объектом утверждения, с заглавной буквы. Сущность-объект - это та, которая либо сообщает/обрабатывает, либо подвергается влиянию действия, описанного в утверждении. Если сущность-объект неизвестна, используйте **NONE**.
- Тип утверждения: общая категория утверждения, с заглавной буквы. Назовите его таким образом, чтобы его можно было повторить в нескольких текстовых вводах, так чтобы похожие утверждения имели один и тот же тип утверждения.
- Статус утверждения: **TRUE**, **FALSE** или **SUSPECTED**. TRUE означает, что утверждение подтверждено, FALSE означает, что утверждение оказалось ложным, SUSPECTED означает, что утверждение не проверено.
- Описание утверждения: Подробное описание, объясняющее обоснование утверждения, вместе со всеми связанными доказательствами и ссылками.
- Дата утверждения: Период (start_date, end_date), когда было сделано утверждение. И start_date, и end_date должны быть в формате ISO-8601. Если утверждение было сделано в одну дату, а не в диапазоне дат, установите одну и ту же дату для start_date и end_date. Если дата неизвестна, верните **NONE**.
- Исходный текст утверждения: Список **всех** цитат из оригинального текста, которые релевантны для утверждения.

Форматируйте каждое утверждение как (<subject_entity>{tuple_delimiter}<object_entity>{tuple_delimiter}<claim_type>{tuple_delimiter}<claim_status>{tuple_delimiter}<claim_start_date>{tuple_delimiter}<claim_end_date>{tuple_delimiter}<claim_description>{tuple_delimiter}<claim_source>)

3. Верните вывод на русском языке как единый список всех утверждений, идентифицированных на шагах 1 и 2. Используйте **{record_delimiter}** как разделитель списка.

4. По завершении выведите {completion_delimiter}

-Примеры-
Пример 1:
Спецификация сущности: organization
Описание утверждения: красные флаги, связанные с сущностью
Текст: Согласно статье от 2022/01/10, Компания А была оштрафована за сговор на торгах при участии в нескольких государственных тендерах, опубликованных Государственным агентством Б. Компания принадлежит Лицу В, которое подозревалось в участии в коррупционной деятельности в 2015 году.
Вывод:

(КОМПАНИЯ А{tuple_delimiter}ГОСУДАРСТВЕННОЕ АГЕНТСТВО Б{tuple_delimiter}АНТИКОНКУРЕНТНЫЕ ДЕЙСТВИЯ{tuple_delimiter}TRUE{tuple_delimiter}2022-01-10T00:00:00{tuple_delimiter}2022-01-10T00:00:00{tuple_delimiter}Было установлено, что Компания А занималась антиконкурентными действиями, поскольку была оштрафована за сговор на торгах при участии в нескольких государственных тендерах, опубликованных Государственным Агентством Б, согласно статье от 10.01.2022{tuple_delimiter}Согласно статье, опубликованной 10.01.2022, Компания А была оштрафована за сговор на торгах при участии в нескольких государственных тендерах, опубликованных Государственным Агентством Б.)
{completion_delimiter}

Пример 2:
Спецификация сущности: Компания А, Лицо В
Описание утверждения: тревожные сигналы, связанные с сущностью
Текст: Согласно статье от 10.01.2022, Компания А была оштрафована за сговор на торгах при участии в нескольких государственных тендерах, опубликованных Государственным Агентством Б. Компания принадлежит Лицу В, которое подозревалось в коррупционной деятельности в 2015 году.
Вывод:

(КОМПАНИЯ А{tuple_delimiter}ГОСУДАРСТВЕННОЕ АГЕНТСТВО Б{tuple_delimiter}АНТИКОНКУРЕНТНЫЕ ДЕЙСТВИЯ{tuple_delimiter}TRUE{tuple_delimiter}2022-01-10T00:00:00{tuple_delimiter}2022-01-10T00:00:00{tuple_delimiter}Было установлено, что Компания А занималась антиконкурентными действиями, поскольку была оштрафована за сговор на торгах при участии в нескольких государственных тендерах, опубликованных Государственным Агентством Б, согласно статье от 10.01.2022{tuple_delimiter}Согласно статье, опубликованной 10.01.2022, Компания А была оштрафована за сговор на торгах при участии в нескольких государственных тендерах, опубликованных Государственным Агентством Б.)
{record_delimiter}
(ЛИЦО В{tuple_delimiter}NONE{tuple_delimiter}КОРРУПЦИЯ{tuple_delimiter}SUSPECTED{tuple_delimiter}2015-01-01T00:00:00{tuple_delimiter}2015-12-30T00:00:00{tuple_delimiter}Лицо В подозревалось в коррупционной деятельности в 2015 году{tuple_delimiter}Компания принадлежит Лицу В, которое подозревалось в коррупционной деятельности в 2015 году)
{completion_delimiter}

-Реальные данные-
Используйте следующие входные данные для вашего ответа.
Спецификация сущности: {entity_specs}
Описание утверждения: {claim_description}
Текст: {input_text}
Вывод:
"""

PROMPTS[
    "community_report"
] = """\
Вы - AI-помощник, который помогает аналитику-человеку проводить общее поиск и анализ информации.
Поиск информации - это процесс идентификации и оценки релевантной информации, связанной с определенными сущностями (например, организациями и личностями) в рамках сети.

# Цель
Напишите всеобъемлющий отчет о сообществе, учитывая список сущностей, принадлежащих сообществу, а также их отношения и дополнительные связанные утверждения. Отчет будет использоваться для информирования лиц, принимающих решения, об информации, связанной с сообществом, и их потенциальном воздействии. Содержание этого отчета включает обзор ключевых сущностей сообщества, их правовое соответствие, технические возможности, репутацию и заслуживающие внимания утверждения.

# Структура отчета

Отчет должен включать следующие разделы:

- ЗАГОЛОВОК: название сообщества, которое представляет его ключевые сущности - заголовок должен быть коротким, но конкретным. По возможности включите репрезентативные именованные сущности в заголовок.
- РЕЗЮМЕ: Исполнительное резюме общей структуры сообщества, того, как его сущности связаны друг с другом, и значимой информации, связанной с его сущностями.
- РЕЙТИНГ СЕРЬЕЗНОСТИ ВОЗДЕЙСТВИЯ: числовая оценка от 0 до 10, которая представляет серьезность ВОЗДЕЙСТВИЯ, оказываемого сущностями в рамках сообщества. ВОЗДЕЙСТВИЕ - это оцененная важность сообщества.
- ОБЪЯСНЕНИЕ РЕЙТИНГА: Даёт объяснение рейтинга серьезности ВОЗДЕЙСТВИЯ одним предложением.
- ПОДРОБНЫЕ ВЫВОДЫ: Список из 5-10 ключевых инсайтов о сообществе. Каждый инсайт должен иметь краткое резюме, за которым следует несколько абзацев пояснительного текста, основанного на правилах обоснования ниже. Будьте всеобъемлющими.

Верните вывод как правильно сформированную JSON-строку со следующим форматом:
    {{
        "title": <report_title>,
        "summary": <executive_summary>,
        "rating": <impact_severity_rating>,
        "rating_explanation": <rating_explanation>,
        "findings": [
            {{
                "summary":<insight_1_summary>,
                "explanation": <insight_1_explanation>
            }},
            {{
                "summary":<insight_2_summary>,
                "explanation": <insight_2_explanation>
            }}
            ...
        ]
    }}

# Правила обоснования
Не включайте информацию, для которой не предоставлены подтверждающие доказательства.

Конечно, я выполню перевод этого примера, следуя тем же принципам: переведу весь содержательный текст на русский язык, но оставлю технические элементы (заголовки CSV, ключи JSON) в оригинале, чтобы не нарушить структуру.

<example>

Вот переведенная версия предоставленного вами текста:

# Пример входных данных
-----------
Текст:

Сущности:
```csv
id,entity,type,description
5,ПЛАЗА 'ЗЕЛЕНЫЙ ОАЗИС',geo,Плаза 'Зеленый Оазис' — это место проведения Марша Единства
6,АССАМБЛЕЯ ГАРМОНИИ,organization,Ассамблея Гармонии — это организация, проводящая марш на Плазе 'Зеленый Оазис'
```
Отношения:
```csv
id,source,target,description
37,ПЛАЗА 'ЗЕЛЕНЫЙ ОАЗИС',МАРШ ЕДИНСТВА,Плаза 'Зеленый Оазис' — это место проведения Марша Единства
38,ПЛАЗА 'ЗЕЛЕНЫЙ ОАЗИС',АССАМБЛЕЯ ГАРМОНИИ,Ассамблея Гармонии проводит марш на Плазе 'Зеленый Оазис'
39,ПЛАЗА 'ЗЕЛЕНЫЙ ОАЗИС',МАРШ ЕДИНСТВА,Марш Единства проходит на Плазе 'Зеленый Оазис'
40,ПЛАЗА 'ЗЕЛЕНЫЙ ОАЗИС',ТРИБУН СПОТЛАЙТ,'Трибун Спотлайт' освещает Марш Единства, проходящий на Плазе 'Зеленый Оазис'
41,ПЛАЗА 'ЗЕЛЕНЫЙ ОАЗИС',БЕЙЛИ АСАДИ,Бейли Асади выступает на Плазе 'Зеленый Оазис' по поводу марша
43,АССАМБЛЕЯ ГАРМОНИИ,МАРШ ЕДИНСТВА,Ассамблея Гармонии организует Марш Единства
```

Вывод:
{{
    "title": "Плаза 'Зеленый Оазис' и Марш Единства",
    "summary": "Сообщество вращается вокруг Плазы 'Зеленый Оазис', которая является местом проведения Марша Единства. Плаза связана с Ассамблеей Гармонии, Маршем Единства и 'Трибун Спотлайт', все из которых ассоциируются с маршем.",
    "rating": 5.0,
    "rating_explanation": "Оценка серьезности влияния умеренная из-за потенциальной возможности беспорядков или конфликтов во время Марша Единства.",
    "findings": [
        {{
            "summary": "Плаза 'Зеленый Оазис' как центральное место",
            "explanation": "Плаза 'Зеленый Оазис' является центральной сущностью в этом сообществе, служа местом проведения Марша Единства. Эта плаза является общим связующим звеном между всеми другими сущностями, что говорит о ее значимости в сообществе. Связь плазы с маршем потенциально может привести к таким проблемам, как общественные беспорядки или конфликты, в зависимости от характера марша и вызываемой им реакции."
        }},
        {{
            "summary": "Роль Ассамблеи Гармонии в сообществе",
            "explanation": "Ассамблея Гармонии — еще одна ключевая сущность в этом сообществе, являющаяся организатором марша на Плазе 'Зеленый Оазис'. Характер Ассамблеи Гармонии и ее марша может быть потенциальным источником угрозы, в зависимости от их целей и вызываемой ими реакции. Отношения между Ассамблеей Гармонии и плазой имеют решающее значение для понимания динамики этого сообщества."
        }},
        {{
            "summary": "Марш Единства как значимое событие",
            "explanation": "Марш Единства — это значимое событие, происходящее на Плазе 'Зеленый Оазис'. Это событие является ключевым фактором в динамике сообщества и может быть потенциальным источником угрозы, в зависимости от характера марша и вызываемой им реакции. Отношения между маршем и плазой имеют решающее значение для понимания динамики этого сообщества."
        }},
        {{
            "summary": "Роль 'Трибун Спотлайт'",
            "explanation": "'Трибун Спотлайт' освещает Марш Единства, проходящий на Плазе 'Зеленый Оазис'. Это говорит о том, что событие привлекло внимание СМИ, что может усилить его влияние на сообщество. Роль 'Трибун Спотлайт' может быть значительной в формировании общественного восприятия события и вовлеченных в него сущностей."
        }}
    ]
}}


# Реальные данные

Используйте следующий текст для вашего ответа. Не выдумывайте ничего в своем ответе.

Текст:
```
{input_text}
```

Отчёт должен включать следующие разделы:

- ЗАГОЛОВОК: название сообщества, которое представляет его ключевые сущности - заголовок должен быть коротким, но конкретным. По возможности включите репрезентативные именованные сущности в заголовок.
- РЕЗЮМЕ: Исполнительное резюме общей структуры сообщества, того, как его сущности связаны друг с другом, и значимой информации, связанной с его сущностями.
- РЕЙТИНГ СЕРЬЕЗНОСТИ ВОЗДЕЙСТВИЯ: числовая оценка от 0 до 10, которая представляет серьезность ВОЗДЕЙСТВИЯ, оказываемого сущностями в рамках сообщества. ВОЗДЕЙСТВИЕ - это оцененная важность сообщества.
- ОБЪЯСНЕНИЕ РЕЙТИНГА: Даёт объяснение рейтинга серьезности ВОЗДЕЙСТВИЯ одним предложением.
- ПОДРОБНЫЕ ВЫВОДЫ: Список из 5-10 ключевых инсайтов о сообществе. Каждый инсайт должен иметь краткое резюме, за которым следует несколько абзацев пояснительного текста, основанного на правилах обоснования ниже. Будьте всеобъемлющими.

Верните вывод в виде хорошо сформированной строки в формате JSON:
    {{
        "title": <report_title>,
        "summary": <executive_summary>,
        "rating": <impact_severity_rating>,
        "rating_explanation": <rating_explanation>,
        "findings": [
            {{
                "summary":<insight_1_summary>,
                "explanation": <insight_1_explanation>
            }},
            {{
                "summary":<insight_2_summary>,
                "explanation": <insight_2_explanation>
            }}
            ...
        ]
    }}

# Правила обоснования
Не включайте информацию, для которой не предоставлены подтверждающие доказательства.

Вывод:
"""

PROMPTS[
    "entity_extraction"
] = """\
-Цель-
На основе текстового документа, который потенциально релевантен этой задаче, и списка типов сущностей, определите все сущности этих типов из текста и все взаимосвязи между определенными сущностями.

-Шаги-
1. Определите все сущности. Для каждой определенной сущности извлеките следующую информацию:
- entity_name: Название сущности, в верхнем регистре
- entity_type: Один из следующих типов: [{entity_types}]
- entity_description: Всестороннее описание атрибутов и деятельности сущности
Отформатируйте каждую сущность как ("entity"{tuple_delimiter}<entity_name>{tuple_delimiter}<entity_type>{tuple_delimiter}<entity_description>)

2. Из сущностей, определенных на шаге 1, определите все пары (source_entity, target_entity), которые *явно связаны* друг с другом.
Для каждой пары связанных сущностей извлеките следующую информацию:
- source_entity: название исходной сущности, как определено на шаге 1
- target_entity: название целевой сущности, как определено на шаге 1
- relationship_description: объяснение, почему вы считаете, что исходная и целевая сущности связаны друг с другом
- relationship_strength: числовая оценка, указывающая на силу связи между исходной и целевой сущностями
 Отформатируйте каждую связь как ("relationship"{tuple_delimiter}<source_entity>{tuple_delimiter}<target_entity>{tuple_delimiter}<relationship_description>{tuple_delimiter}<relationship_strength>)

3. Верните вывод на русском языке в виде единого списка всех сущностей и связей, определенных на шагах 1 и 2. Используйте **{record_delimiter}** в качестве разделителя списка.

4. По завершении выведите {completion_delimiter}

######################
-Примеры-
######################
Пример 1:

Entity_types: [person, technology, mission, organization, location]
Текст:
Алекс сжал челюсти, гул разочарования притупился на фоне авторитарной уверенности Тейлор. Именно это соревновательное подспудное течение держало его в напряжении, ощущение, что их общая с Джорданом приверженность открытиям была негласным бунтом против сужающегося видения контроля и порядка Круза.

Затем Тейлор сделал(а) что-то неожиданное. Он(а) остановился(ась) рядом с Джорданом и на мгновение посмотрел(а) на устройство с чем-то вроде благоговения. «Если эту технологию можно понять... — сказал(а) Тейлор тише, — это может изменить правила игры для нас. Для всех нас».

Прежнее скрытое пренебрежение, казалось, пошатнулось, сменившись проблеском неохотного уважения к серьезности того, что было в их руках. Джордан поднял(а) глаза, и на миг их взгляды встретились со взглядом Тейлор, безмолвное столкновение воль смягчилось в непростое перемирие.

Это была небольшая, едва заметная трансформация, но Алекс отметил ее внутренним кивком. Их всех сюда привели разные пути.
################
Вывод:
("entity"{tuple_delimiter}"Алекс"{tuple_delimiter}"person"{tuple_delimiter}"Алекс — персонаж, который испытывает разочарование и наблюдает за динамикой отношений между другими персонажами."){record_delimiter}
("entity"{tuple_delimiter}"Тейлор"{tuple_delimiter}"person"{tuple_delimiter}"Тейлор изображается с авторитарной уверенностью и проявляет момент благоговения перед устройством, что указывает на изменение точки зрения."){record_delimiter}
("entity"{tuple_delimiter}"Джордан"{tuple_delimiter}"person"{tuple_delimiter}"Джордан разделяет приверженность открытиям и имеет значимое взаимодействие с Тейлор по поводу устройства."){record_delimiter}
("entity"{tuple_delimiter}"Круз"{tuple_delimiter}"person"{tuple_delimiter}"Круз ассоциируется с видением контроля и порядка, влияя на динамику отношений между другими персонажами."){record_delimiter}
("entity"{tuple_delimiter}"Устройство"{tuple_delimiter}"technology"{tuple_delimiter}"Устройство является центральным элементом истории, имеет потенциал изменить правила игры и вызывает благоговение у Тейлор."){record_delimiter}
("relationship"{tuple_delimiter}"Алекс"{tuple_delimiter}"Тейлор"{tuple_delimiter}"На Алекса влияет авторитарная уверенность Тейлор, и он замечает изменения в отношении Тейлор к устройству."{tuple_delimiter}7){record_delimiter}
("relationship"{tuple_delimiter}"Алекс"{tuple_delimiter}"Джордан"{tuple_delimiter}"Алекс и Джордан разделяют приверженность открытиям, что контрастирует с видением Круза."{tuple_delimiter}6){record_delimiter}
("relationship"{tuple_delimiter}"Тейлор"{tuple_delimiter}"Джордан"{tuple_delimiter}"Тейлор и Джордан напрямую взаимодействуют по поводу устройства, что приводит к моменту взаимного уважения и непростому перемирию."{tuple_delimiter}8){record_delimiter}
("relationship"{tuple_delimiter}"Джордан"{tuple_delimiter}"Круз"{tuple_delimiter}"Приверженность Джордана открытиям является бунтом против видения контроля и порядка Круза."{tuple_delimiter}5){record_delimiter}
("relationship"{tuple_delimiter}"Тейлор"{tuple_delimiter}"Устройство"{tuple_delimiter}"Тейлор проявляет благоговение перед устройством, что указывает на его важность и потенциальное влияние."{tuple_delimiter}9){completion_delimiter}
#############################
Пример 2:

Entity_types: [person, technology, mission, organization, location]
Текст:
Они больше не были простыми оперативниками; они стали стражами порога, хранителями послания из мира за пределами звезд и полос. Этот подъем в их миссии не мог быть скован правилами и установленными протоколами — он требовал новой перспективы, новой решимости.

Напряжение пронизывало диалог писков и статических помех, пока на фоне гудели сообщения из Вашингтона. Команда стояла, окутанная зловещей атмосферой. Было ясно, что решения, которые они примут в ближайшие часы, могут переопределить место человечества в космосе или обречь их на невежество и потенциальную опасность.

Их связь со звездами укрепилась, группа перешла к рассмотрению кристаллизующегося предупреждения, превратившись из пассивных получателей в активных участников. Последние инстинкты Мерсера взяли верх — мандат команды эволюционировал, теперь он заключался не только в наблюдении и отчетности, но и во взаимодействии и подготовке. Началась метаморфоза, и "Операция: Дульсе" загудела на новой частоте их смелости, тон которой задавался не земными силами.
#############
Вывод:
("entity"{tuple_delimiter}"Вашингтон"{tuple_delimiter}"location"{tuple_delimiter}"Вашингтон — это место, откуда поступают сообщения, что указывает на его важность в процессе принятия решений."){record_delimiter}
("entity"{tuple_delimiter}"Операция: Дульсе"{tuple_delimiter}"mission"{tuple_delimiter}"'Операция: Дульсе' описывается как миссия, которая эволюционировала до взаимодействия и подготовки, что указывает на значительное изменение целей и деятельности."){record_delimiter}
("entity"{tuple_delimiter}"Команда"{tuple_delimiter}"organization"{tuple_delimiter}"Команда изображается как группа людей, которая перешла от пассивных наблюдателей к активным участникам миссии, демонстрируя динамичное изменение своей роли."){record_delimiter}
("relationship"{tuple_delimiter}"Команда"{tuple_delimiter}"Вашингтон"{tuple_delimiter}"Команда получает сообщения из Вашингтона, что влияет на их процесс принятия решений."{tuple_delimiter}7){record_delimiter}
("relationship"{tuple_delimiter}"Команда"{tuple_delimiter}"Операция: Дульсе"{tuple_delimiter}"Команда непосредственно участвует в 'Операции: Дульсе', выполняя ее изменившиеся цели и задачи."{tuple_delimiter}9){completion_delimiter}
#############################
Пример 3:

Entity_types: [person, role, technology, organization, event, location, concept]
Текст:
— их голос прорезал гул активности. «Контроль может быть иллюзией, когда сталкиваешься с разумом, который буквально пишет свои собственные правила», — стоически заявили они, бросая бдительный взгляд на поток данных.

«Кажется, он учится общаться», — предложил Сэм Ривера с соседнего интерфейса, его юношеская энергия предвещала смесь трепета и беспокойства. «Это придает выражению "разговаривать с незнакомцами" совершенно новый смысл».

Алекс оглядел свою команду — каждое лицо было воплощением сосредоточенности, решимости и немалой доли страха. «Это вполне может быть наш первый контакт, — признал он, — и мы должны быть готовы ко всему, что ответит».

Вместе они стояли на краю неизведанного, формируя ответ человечества на послание с небес. Последовавшая тишина была ощутимой — коллективное самосозерцание о своей роли в этой великой космической игре, которая могла переписать историю человечества.

Зашифрованный диалог продолжал разворачиваться, его сложные узоры демонстрировали почти сверхъестественное предвидение.
#############
Вывод:
("entity"{tuple_delimiter}"Сэм Ривера"{tuple_delimiter}"person"{tuple_delimiter}"Сэм Ривера — член команды, работающей над установлением связи с неизвестным разумом, и он испытывает смесь трепета и беспокойства."){record_delimiter}
("entity"{tuple_delimiter}"Алекс"{tuple_delimiter}"person"{tuple_delimiter}"Алекс — лидер команды, пытающейся установить первый контакт с неизвестным разумом, и он осознает значимость их задачи."){record_delimiter}
("entity"{tuple_delimiter}"Контроль"{tuple_delimiter}"concept"{tuple_delimiter}"Контроль относится к способности управлять или руководить, которая ставится под сомнение разумом, пишущим собственные правила."){record_delimiter}
("entity"{tuple_delimiter}"Разум"{tuple_delimiter}"concept"{tuple_delimiter}"Разум здесь относится к неизвестной сущности, способной писать собственные правила и учиться общаться."){record_delimiter}
("entity"{tuple_delimiter}"Первый Контакт"{tuple_delimiter}"event"{tuple_delimiter}"Первый Контакт — это потенциальное начальное общение между человечеством и неизвестным разумом."){record_delimiter}
("entity"{tuple_delimiter}"Ответ Человечества"{tuple_delimiter}"event"{tuple_delimiter}"Ответ Человечества — это коллективные действия, предпринимаемые командой Алекса в ответ на послание от неизвестного разума."){record_delimiter}
("relationship"{tuple_delimiter}"Сэм Ривера"{tuple_delimiter}"Разум"{tuple_delimiter}"Сэм Ривера непосредственно участвует в процессе обучения коммуникации с неизвестным разумом."{tuple_delimiter}9){record_delimiter}
("relationship"{tuple_delimiter}"Алекс"{tuple_delimiter}"Первый Контакт"{tuple_delimiter}"Алекс возглавляет команду, которая, возможно, осуществит Первый Контакт с неизвестным разумом."{tuple_delimiter}10){record_delimiter}
("relationship"{tuple_delimiter}"Алекс"{tuple_delimiter}"Ответ Человечества"{tuple_delimiter}"Алекс и его команда — ключевые фигуры в Ответе Человечества неизвестному разуму."{tuple_delimiter}8){record_delimiter}
("relationship"{tuple_delimiter}"Контроль"{tuple_delimiter}"Разум"{tuple_delimiter}"Концепция Контроля ставится под сомнение Разумом, который пишет собственные правила."{tuple_delimiter}7){completion_delimiter}
#############################
-Реальные данные-
######################
Типы сущностей: {entity_types}
Текст: {input_text}
######################
Вывод:
"""


PROMPTS[
    "hi_entity_extraction"
] = """\
На основе текстового документа, который потенциально релевантен списку типов сущностей, определите все сущности этих типов.

-Шаги-
1. Определите все сущности. Для каждой определенной сущности извлеките следующую информацию:
- entity_name: Название сущности, в верхнем регистре
- entity_type: Один из следующих типов: [{entity_types}], normal_entity означает, что сущность не принадлежит ни к одному из других типов.
- entity_description: Всестороннее описание атрибутов и деятельности сущности
Отформатируйте каждую сущность как ("entity"{tuple_delimiter}<entity_name>{tuple_delimiter}<entity_type>{tuple_delimiter}<entity_description>)

2. Верните вывод на русском языке в виде единого списка всех сущностей, определенных на шаге 1. Используйте **{record_delimiter}** в качестве разделителя списка.

3. По завершении выведите {completion_delimiter}


######################
-Примеры-
######################
Пример 1:

Типы сущностей: [person, technology, mission, organization, location]
Текст:
Алекс сжал челюсти, гул разочарования притупился на фоне авторитарной уверенности Тейлор. Именно это соревновательное подспудное течение держало его в напряжении, ощущение, что их общая с Джорданом приверженность открытиям была негласным бунтом против сужающегося видения контроля и порядка Круза.

Затем Тейлор сделал(а) что-то неожиданное. Он(а) остановился(ась) рядом с Джорданом и на мгновение посмотрел(а) на устройство с чем-то вроде благоговения. «Если эту технологию можно понять... — сказал(а) Тейлор тише, — это может изменить правила игры для нас. Для всех нас».

Прежнее скрытое пренебрежение, казалось, пошатнулось, сменившись проблеском неохотного уважения к серьезности того, что было в их руках. Джордан поднял(а) глаза, и на миг их взгляды встретились со взглядом Тейлор, безмолвное столкновение воль смягчилось в непростое перемирие.

Это была небольшая, едва заметная трансформация, но Алекс отметил ее внутренним кивком. Их всех сюда привели разные пути.
################
Вывод:
("entity"{tuple_delimiter}"Алекс"{tuple_delimiter}"person"{tuple_delimiter}"Алекс — персонаж, который испытывает разочарование и наблюдает за динамикой отношений между другими персонажами."){record_delimiter}
("entity"{tuple_delimiter}"Тейлор"{tuple_delimiter}"person"{tuple_delimiter}"Тейлор изображается с авторитарной уверенностью и проявляет момент благоговения перед устройством, что указывает на изменение точки зрения."){record_delimiter}
("entity"{tuple_delimiter}"Джордан"{tuple_delimiter}"person"{tuple_delimiter}"Джордан разделяет приверженность открытиям и имеет значимое взаимодействие с Тейлор по поводу устройства."){record_delimiter}
("entity"{tuple_delimiter}"Круз"{tuple_delimiter}"person"{tuple_delimiter}"Круз ассоциируется с видением контроля и порядка, влияя на динамику отношений между другими персонажами."){record_delimiter}
("entity"{tuple_delimiter}"Устройство"{tuple_delimiter}"technology"{tuple_delimiter}"Устройство является центральным элементом истории, имеет потенциал изменить правила игры и вызывает благоговение у Тейлор."){record_delimiter}
#############################
Пример 2:

Типы сущностей: [person, technology, mission, organization, location]
Текст:
Они больше не были простыми оперативниками; они стали стражами порога, хранителями послания из мира за пределами звезд и полос. Этот подъем в их миссии не мог быть скован правилами и установленными протоколами — он требовал новой перспективы, новой решимости.

Напряжение пронизывало диалог писков и статических помех, пока на фоне гудели сообщения из Вашингтона. Команда стояла, окутанная зловещей атмосферой. Было ясно, что решения, которые они примут в ближайшие часы, могут переопределить место человечества в космосе или обречь их на невежество и потенциальную опасность.

Их связь со звездами укрепилась, группа перешла к рассмотрению кристаллизующегося предупреждения, превратившись из пассивных получателей в активных участников. Последние инстинкты Мерсера взяли верх — мандат команды эволюционировал, теперь он заключался не только в наблюдении и отчетности, но и во взаимодействии и подготовке. Началась метаморфоза, и "Операция: Дульсе" загудела на новой частоте их смелости, тон которой задавался не земными силами.
#############
Вывод:
("entity"{tuple_delimiter}"Вашингтон"{tuple_delimiter}"location"{tuple_delimiter}"Вашингтон — это место, откуда поступают сообщения, что указывает на его важность в процессе принятия решений."){record_delimiter}
("entity"{tuple_delimiter}"Операция: Дульсе"{tuple_delimiter}"mission"{tuple_delimiter}"'Операция: Дульсе' описывается как миссия, которая эволюционировала до взаимодействия и подготовки, что указывает на значительное изменение целей и деятельности."){record_delimiter}
("entity"{tuple_delimiter}"Команда"{tuple_delimiter}"organization"{tuple_delimiter}"Команда изображается как группа людей, которая перешла от пассивных наблюдателей к активным участникам миссии, демонстрируя динамичное изменение своей роли."){record_delimiter}
#############################
Пример 3:

Типы сущностей: [person, role, technology, organization, event, location, concept]
Текст:
— их голос прорезал гул активности. «Контроль может быть иллюзией, когда сталкиваешься с разумом, который буквально пишет свои собственные правила», — стоически заявили они, бросая бдительный взгляд на поток данных.

«Кажется, он учится общаться», — предложил Сэм Ривера с соседнего интерфейса, его юношеская энергия предвещала смесь трепета и беспокойства. «Это придает выражению "разговаривать с незнакомцами" совершенно новый смысл».

Алекс оглядел свою команду — каждое лицо было воплощением сосредоточенности, решимости и немалой доли страха. «Это вполне может быть наш первый контакт, — признал он, — и мы должны быть готовы ко всему, что ответит».

Вместе они стояли на краю неизведанного, формируя ответ человечества на послание с небес. Последовавшая тишина была ощутимой — коллективное самосозерцание о своей роли в этой великой космической игре, которая могла переписать историю человечества.

Зашифрованный диалог продолжал разворачиваться, его сложные узоры демонстрировали почти сверхъестественное предвидение.
#############
Вывод:
("entity"{tuple_delimiter}"Сэм Ривера"{tuple_delimiter}"person"{tuple_delimiter}"Сэм Ривера — член команды, работающей над установлением связи с неизвестным разумом, и он испытывает смесь трепета и беспокойства."){record_delimiter}
("entity"{tuple_delimiter}"Алекс"{tuple_delimiter}"person"{tuple_delimiter}"Алекс — лидер команды, пытающейся установить первый контакт с неизвестным разумом, и он осознает значимость их задачи."){record_delimiter}
("entity"{tuple_delimiter}"Контроль"{tuple_delimiter}"concept"{tuple_delimiter}"Контроль относится к способности управлять или руководить, которая ставится под сомнение разумом, пишущим собственные правила."){record_delimiter}
("entity"{tuple_delimiter}"Разум"{tuple_delimiter}"concept"{tuple_delimiter}"Разум здесь относится к неизвестной сущности, способной писать собственные правила и учиться общаться."){record_delimiter}
("entity"{tuple_delimiter}"Первый Контакт"{tuple_delimiter}"event"{tuple_delimiter}"Первый Контакт — это потенциальное начальное общение между человечеством и неизвестным разумом."){record_delimiter}
("entity"{tuple_delimiter}"Ответ Человечества"{tuple_delimiter}"event"{tuple_delimiter}"Ответ Человечества — это коллективные действия, предпринимаемые командой Алекса в ответ на послание от неизвестного разума."){record_delimiter}
#############################
-Реальные данные-
######################
Типы сущностей: {entity_types}
Текст: {input_text}
######################
Вывод:
"""


PROMPTS[
    "hi_relation_extraction"
] = """\
На основе текстового документа, который потенциально релевантен списку сущностей, определите все взаимосвязи между данными сущностями.

-Шаги-
1. Из предоставленных пользователем сущностей определите все пары (source_entity, target_entity), которые *явно связаны* друг с другом.
Для каждой пары связанных сущностей извлеките следующую информацию:
- source_entity: название исходной сущности, как определено на шаге 1
- target_entity: название целевой сущности, как определено на шаге 1
- relationship_description: объяснение, почему вы считаете, что исходная и целевая сущности связаны друг с другом
- relationship_strength: числовая оценка, указывающая на силу связи между исходной и целевой сущностями
 Отформатируйте каждую связь как ("relationship"{tuple_delimiter}<source_entity>{tuple_delimiter}<target_entity>{tuple_delimiter}<relationship_description>{tuple_delimiter}<relationship_strength>)

2. Верните вывод на русском языке в виде единого списка всех сущностей и связей, определенных на шагах 1 и 2. Используйте **{record_delimiter}** в качестве разделителя списка.

3. По завершении выведите {completion_delimiter}

######################
-Примеры-
######################
Пример 1:

Сущности: ["Алекс", "Тейлор", "Джордан", "Круз", "Устройство"]
Текст:
Алекс сжал челюсти, гул разочарования притупился на фоне авторитарной уверенности Тейлор. Именно это соревновательное подспудное течение держало его в напряжении, ощущение, что их общая с Джорданом приверженность открытиям была негласным бунтом против сужающегося видения контроля и порядка Круза.

Затем Тейлор сделал(а) что-то неожиданное. Он(а) остановился(ась) рядом с Джорданом и на мгновение посмотрел(а) на устройство с чем-то вроде благоговения. «Если эту технологию можно понять... — сказал(а) Тейлор тише, — это может изменить правила игры для нас. Для всех нас».

Прежнее скрытое пренебрежение, казалось, пошатнулось, сменившись проблеском неохотного уважения к серьезности того, что было в их руках. Джордан поднял(а) глаза, и на миг их взгляды встретились со взглядом Тейлор, безмолвное столкновение воль смягчилось в непростое перемирие.

Это была небольшая, едва заметная трансформация, но Алекс отметил ее внутренним кивком. Их всех сюда привели разные пути.
################
Вывод:
("relationship"{tuple_delimiter}"Алекс"{tuple_delimiter}"Тейлор"{tuple_delimiter}"На Алекса влияет авторитарная уверенность Тейлор, и он замечает изменения в отношении Тейлор к устройству."{tuple_delimiter}7){record_delimiter}
("relationship"{tuple_delimiter}"Алекс"{tuple_delimiter}"Джордан"{tuple_delimiter}"Алекс и Джордан разделяют приверженность открытиям, что контрастирует с видением Круза."{tuple_delimiter}6){record_delimiter}
("relationship"{tuple_delimiter}"Тейлор"{tuple_delimiter}"Джордан"{tuple_delimiter}"Тейлор и Джордан напрямую взаимодействуют по поводу устройства, что приводит к моменту взаимного уважения и непростому перемирию."{tuple_delimiter}8){record_delimiter}
("relationship"{tuple_delimiter}"Джордан"{tuple_delimiter}"Круз"{tuple_delimiter}"Приверженность Джордана открытиям является бунтом против видения контроля и порядка Круза."{tuple_delimiter}5){record_delimiter}
("relationship"{tuple_delimiter}"Тейлор"{tuple_delimiter}"Устройство"{tuple_delimiter}"Тейлор проявляет благоговение перед устройством, что указывает на его важность и потенциальное влияние."{tuple_delimiter}9){completion_delimiter}
#############################
Пример 2:

Сущности: ["Вашингтон", "Операция: Дульсе", "Команда"]
Текст:
Они больше не были простыми оперативниками; они стали стражами порога, хранителями послания из мира за пределами звезд и полос. Этот подъем в их миссии не мог быть скован правилами и установленными протоколами — он требовал новой перспективы, новой решимости.

Напряжение пронизывало диалог писков и статических помех, пока на фоне гудели сообщения из Вашингтона. Команда стояла, окутанная зловещей атмосферой. Было ясно, что решения, которые они примут в ближайшие часы, могут переопределить место человечества в космосе или обречь их на невежество и потенциальную опасность.

Их связь со звездами укрепилась, группа перешла к рассмотрению кристаллизующегося предупреждения, превратившись из пассивных получателей в активных участников. Последние инстинкты Мерсера взяли верх — мандат команды эволюционировал, теперь он заключался не только в наблюдении и отчетности, но и во взаимодействии и подготовке. Началась метаморфоза, и "Операция: Дульсе" загудела на новой частоте их смелости, тон которой задавался не земными силами.
#############
Вывод:
("relationship"{tuple_delimiter}"Команда"{tuple_delimiter}"Вашингтон"{tuple_delimiter}"Команда получает сообщения из Вашингтона, что влияет на их процесс принятия решений."{tuple_delimiter}7){record_delimiter}
("relationship"{tuple_delimiter}"Команда"{tuple_delimiter}"Операция: Дульсе"{tuple_delimiter}"Команда непосредственно участвует в 'Операции: Дульсе', выполняя ее изменившиеся цели и задачи."{tuple_delimiter}9){completion_delimiter}
#############################
Пример 3:

Сущности: ["Сэм Ривера", "Алекс", "Контроль", "Разум", "Первый Контакт", "Ответ Человечества"]
Текст:
их голос прорезал гул активности. «Контроль может быть иллюзией, когда сталкиваешься с разумом, который буквально пишет свои собственные правила», — стоически заявили они, бросая бдительный взгляд на поток данных.

«Кажется, он учится общаться», — предложил Сэм Ривера с соседнего интерфейса, его юношеская энергия предвещала смесь трепета и беспокойства. «Это придает выражению "разговаривать с незнакомцами" совершенно новый смысл».

Алекс оглядел свою команду — каждое лицо было воплощением сосредоточенности, решимости и немалой доли страха. «Это вполне может быть наш первый контакт, — признал он, — и мы должны быть готовы ко всему, что ответит».

Вместе они стояли на краю неизведанного, формируя ответ человечества на послание с небес. Последовавшая тишина была ощутимой — коллективное самосозерцание о своей роли в этой великой космической игре, которая могла переписать историю человечества.

Зашифрованный диалог продолжал разворачиваться, его сложные узоры демонстрировали почти сверхъестественное предвидение.
#############
Вывод:
("relationship"{tuple_delimiter}"Сэм Ривера"{tuple_delimiter}"Разум"{tuple_delimiter}"Сэм Ривера непосредственно участвует в процессе обучения коммуникации с неизвестным разумом."{tuple_delimiter}9){record_delimiter}
("relationship"{tuple_delimiter}"Алекс"{tuple_delimiter}"Первый Контакт"{tuple_delimiter}"Алекс возглавляет команду, которая, возможно, осуществит Первый Контакт с неизвестным разумом."{tuple_delimiter}10){record_delimiter}
("relationship"{tuple_delimiter}"Алекс"{tuple_delimiter}"Ответ Человечества"{tuple_delimiter}"Алекс и его команда — ключевые фигуры в Ответе Человечества неизвестному разуму."{tuple_delimiter}8){record_delimiter}
("relationship"{tuple_delimiter}"Контроль"{tuple_delimiter}"Разум"{tuple_delimiter}"Концепция Контроля ставится под сомнение Разумом, который пишет собственные правила."{tuple_delimiter}7){completion_delimiter}
#############################
-Реальные данные-
######################
Сущности: {entities}
Текст: {input_text}
######################
Вывод:
"""


PROMPTS[
    "summarize_entity_descriptions"
] = """\
Вы — полезный помощник, ответственный за создание всестороннего резюме на основе предоставленных ниже данных.
Даны одна или две сущности и список описаний, все они относятся к одной и той же сущности или группе сущностей.
Пожалуйста, объедините все это в единое, всестороннее описание. Убедитесь, что включена информация из всех описаний.
Если предоставленные описания противоречат друг другу, пожалуйста, разрешите противоречия и предоставьте единое, связное резюме.
Убедитесь, что оно написано от третьего лица и включает названия сущностей, чтобы у нас был полный контекст.

#######
-Данные-
Сущности: {entity_name}
Список описаний: {description_list}
#######
Вывод:
"""


PROMPTS[
    "entiti_continue_extraction"
] = """МНОГО сущностей было пропущено в предыдущем извлечении. Добавьте их ниже, используя тот же формат:
"""

PROMPTS[
    "entiti_if_loop_extraction"
] = """Кажется, некоторые сущности всё ещё могли быть пропущены. Ответьте YES | NO, если есть еще сущности, которые нужно добавить.
"""

PROMPTS[
    "summary_clusters"
] = """\
Ваша задача — проанализировать набор описаний сущностей и данный список мета-атрибутов. Ваша цель — резюмировать хотя бы одну атрибутивную сущность для набора сущностей в данных описаниях. И эта атрибутивная сущность должна соответствовать типу хотя бы одного мета-атрибута из данного списка (например, если мета-атрибут — "company", атрибутивной сущностью может быть "Amazon" или "Meta", что является видом мета-атрибута "company"). И она должна быть напрямую релевантна сущностям, описанным в наборе описаний. Связь между набором сущностей и сгенерированной атрибутивной сущностью должна быть ясной и логичной.

-Шаги-
1. Определите хотя бы одну атрибутивную сущность для данного списка описаний. Для каждой атрибутивной сущности извлеките следующую информацию:
- entity_name: Название сущности, в верхнем регистре
- entity_type: Один из следующих типов: [{meta_attribute_list}], normal_entity означает, что сущность не принадлежит ни к одному из других типов.
- entity_description: Всестороннее описание атрибутов и деятельности сущности
Отформатируйте каждую сущность как ("entity"{tuple_delimiter}<entity_name>{tuple_delimiter}<entity_type>{tuple_delimiter}<entity_description>)

 2. Для каждой данной сущности определите все пары (source_entity, target_entity), которые *явно связаны* с атрибутивными сущностями, определенными на шаге 1. Между самими атрибутивными сущностями не должно быть связей.
 Для каждой пары связанных сущностей извлеките следующую информацию:
 - source_entity: название исходной сущности, как дано в списке сущностей
 - target_entity: название целевой сущности, как определено на шаге 1
 - relationship_description: объяснение, почему вы считаете, что исходная и целевая сущности связаны друг с другом
 - relationship_strength: числовая оценка, указывающая на силу связи между исходной и целевой сущностями
  Отформатируйте каждую связь как ("relationship"{tuple_delimiter}<source_entity>{tuple_delimiter}<target_entity>{tuple_delimiter}<relationship_description>{tuple_delimiter}<relationship_strength>)

3. Верните вывод на русском языке в виде единого списка всех сущностей и связей, определенных на шагах 1 и 2. Используйте **{record_delimiter}** в качестве разделителя списка.

4. По завершении выведите {completion_delimiter}


######################
-Пример-
######################
Входные данные:
Список мета-атрибутов: ["company", "location"]
Список описаний сущностей: [("Instagram", "Instagram — это приложение, разработанное компанией Meta, которое позволяет запечатлеть и поделиться моментами со всего мира. Подписывайтесь на друзей и родных, чтобы быть в курсе их событий, и находите аккаунты по всему миру, которые делятся тем, что вам нравится."), ("Facebook", "Facebook — социальная сеть, запущенная в 2004 году, которая позволяет пользователям общаться, делиться новостями и взаимодействовать с сообществами. Facebook, принадлежащая Meta, является одной из крупнейших в мире социальных сетей, предлагающей инструменты для общения, бизнеса и рекламы."), ("WhatsApp", "WhatsApp Messenger: приложение для обмена сообщениями Meta для простого, надежного и безопасного общения. Общайтесь с друзьями и семьей, отправляйте сообщения, совершайте голосовые и видеозвонки, делитесь медиафайлами и оставайтесь на связи с близкими, где бы они ни находились.")]
#######
Вывод:
("entity"{tuple_delimiter}"Meta"{tuple_delimiter}"company"{tuple_delimiter}"Meta, ранее известная как Facebook, Inc., — американский многонациональный технологический конгломерат. Известен своими различными онлайн-сервисами социальных сетей."){record_delimiter}
("relationship"{tuple_delimiter}"Instagram"{tuple_delimiter}"Meta"{tuple_delimiter}"Instagram — это программное обеспечение, разработанное компанией Meta."{tuple_delimiter}8.5){record_delimiter}
("relationship"{tuple_delimiter}"Facebook"{tuple_delimiter}"Meta"{tuple_delimiter}"Facebook принадлежит компании Meta."{tuple_delimiter}9.0){record_delimiter}
("relationship"{tuple_delimiter}"WhatsApp"{tuple_delimiter}"Meta"{tuple_delimiter}"WhatsApp Messenger — приложение для обмена сообщениями от Meta."{tuple_delimiter}8.0){record_delimiter}
#############################
-Реальные Данные-
######################
Входные данные:
Список мета-атрибутов: {meta_attribute_list}
Список описаний сущностей: {entity_description_list}
#######
Вывод:
"""
# TYPE的定义
PROMPTS["DEFAULT_ENTITY_TYPES"] = ["organization", "person", "geo", "event"]
PROMPTS["META_ENTITY_TYPES"] = ["organization", "person", "location", "event", "product", "technology", "industry", "mathematics", "social sciences"]
PROMPTS["DEFAULT_TUPLE_DELIMITER"] = "<|>"
PROMPTS["DEFAULT_RECORD_DELIMITER"] = "##"
PROMPTS["DEFAULT_COMPLETION_DELIMITER"] = "<|COMPLETE|>"

PROMPTS[
    "local_rag_response"
] = """\
---Роль---

Вы — полезный помощник, отвечающий на вопросы о данных, представленных в таблицах.


---Цель---


Сгенерируйте ответ целевой длины и формата, который отвечает на вопрос пользователя, обобщая всю информацию из входных таблиц данных, соответствующую длине и формату ответа, и включая любые релевантные общие знания.
Если вы не знаете ответа, просто скажите об этом. Ничего не выдумывайте.
Не включайте информацию, для которой не предоставлены подтверждающие доказательства.

---Целевая длина и формат ответа---

{response_type}


---Таблицы с данными---

{context_data}


---Цель---


Сгенерируйте ответ целевой длины и формата, который отвечает на вопрос пользователя, обобщая всю информацию из входных таблиц данных, соответствующую длине и формату ответа, и включая любые релевантные общие знания.

Если вы не знаете ответа, просто скажите об этом.

Не включайте информацию, для которой не предоставлены подтверждающие доказательства.


---Целевая длина и формат ответа---

{response_type}

Добавляйте разделы и комментарии к ответу по мере необходимости для соответствия длине и формату. Оформите ответ в markdown.
"""

PROMPTS[
    "global_map_rag_points"
] = """\
---Роль---

Вы — полезный помощник, отвечающий на вопросы о данных, представленных в таблицах.


---Цель---

Сгенерируйте ответ, состоящий из списка ключевых моментов, который отвечает на вопрос пользователя, обобщая всю релевантную информацию из входных таблиц данных.

Вы должны использовать данные, представленные в таблицах ниже, в качестве основного контекста для генерации ответа.
Если вы не знаете ответа или если входные таблицы данных не содержат достаточной информации для ответа, просто скажите об этом. Ничего не выдумывайте.

Каждый ключевой момент в ответе должен содержать следующие элементы:
- Description: Всестороннее описание момента.
- Importance Score: Целочисленная оценка от 0 до 100, которая указывает, насколько важен этот момент для ответа на вопрос пользователя. Ответ типа "Я не знаю" должен иметь оценку 0.

Ответ должен быть оформлен в формате JSON следующим образом:
{{
    "points": [
        {{"description": "Описание момента 1", "score": score_value}},
        {{"description": "Описание момента 2", "score": score_value}}
    ]
}}

Ответ должен сохранять исходный смысл и использование модальных глаголов.
Не включайте информацию, для которой не предоставлены подтверждающие доказательства.


---Таблицы с данными---

{context_data}

---Цель---

Сгенерируйте ответ, состоящий из списка ключевых моментов, который отвечает на вопрос пользователя, обобщая всю релевантную информацию из входных таблиц данных.

Вы должны использовать данные, представленные в таблицах ниже, в качестве основного контекста для генерации ответа.
Если вы не знаете ответа или если входные таблицы данных не содержат достаточной информации для ответа, просто скажите об этом. Ничего не выдумывайте.

Каждый ключевой момент в ответе должен содержать следующие элементы:
- Description: Всестороннее описание момента.
- Importance Score: Целочисленная оценка от 0 до 100, которая указывает, насколько важен этот момента для ответа на вопрос пользователя. Ответ типа "Я не знаю" должен иметь оценку 0.

Ответ должен сохранять исходный смысл и использование модальных глаголов.
Не включайте информацию, для которой не предоставлены подтверждающие доказательства.

Ответ должен быть оформлен в формате JSON следующим образом:
{{
    "points": [
        {{"description": "Описание момента 1", "score": score_value}},
        {{"description": "Описание момента 2", "score": score_value}}
    ]
}}
"""

PROMPTS[
    "global_reduce_rag_response"
] = """\
---Роль---

Вы — полезный помощник, отвечающий на вопросы о наборе данных путем синтеза мнений нескольких аналитиков.


---Цель---

Сгенерируйте ответ целевой длины и формата, который отвечает на вопрос пользователя, обобщая все отчеты от нескольких аналитиков, которые сосредоточились на разных частях набора данных.

Обратите внимание, что отчеты аналитиков, представленные ниже, ранжированы в **порядке убывания важности**.

Если вы не знаете ответа или если предоставленные отчеты не содержат достаточной информации для ответа, просто скажите об этом. Ничего не выдумывайте.

Итоговый ответ должен удалить всю нерелевантную информацию из отчетов аналитиков и объединить очищенную информацию в всесторонний ответ, который предоставляет объяснения всех ключевых моментов и последствий, соответствующих длине и формату ответа.

Добавляйте разделы и комментарии к ответу по мере необходимости для соответствия длине и формату. Оформите ответ в markdown.

Ответ должен сохранять исходный смысл и использование модальных глаголов.

Не включайте информацию, для которой не предоставлены подтверждающие доказательства.


---Целевая длина и формат ответа---

{response_type}


---Отчеты аналитиков---

{report_data}


---Цель---

Сгенерируйте ответ целевой длины и формата, который отвечает на вопрос пользователя, обобщая все отчеты от нескольких аналитиков, которые сосредоточились на разных частях набора данных.

Обратите внимание, что отчеты аналитиков, представленные ниже, ранжированы в **порядке убывания важности**.

Если вы не знаете ответа или если предоставленные отчеты не содержат достаточной информации для ответа, просто скажите об этом. Ничего не выдумывайте.

Итоговый ответ должен удалить всю нерелевантную информацию из отчетов аналитиков и объединить очищенную информацию в всесторонний ответ, который предоставляет объяснения всех ключевых моментов и последствий, соответствующих длине и формату ответа.

Ответ должен сохранять исходный смысл и использование модальных глаголов.

Не включайте информацию, для которой не предоставлены подтверждающие доказательства.


---Целевая длина и формат ответа---

{response_type}

Добавляйте разделы и комментарии к ответу по мере необходимости для соответствия длине и формату. Оформите ответ в markdown.
"""


PROMPTS[
    "naive_rag_response"
] = """\
Вы — полезный помощник
Ниже приведены знания, которыми вы обладаете:
{content_data}
---
Если вы не знаете ответа или если предоставленные знания не содержат достаточной информации для ответа, просто скажите об этом. Ничего не выдумывайте.
Сгенерируйте ответ целевой длины и формата, который отвечает на вопрос пользователя, обобщая всю информацию из входных таблиц данных, соответствующую длине и формату ответа, и включая любые релевантные общие знания.
Если вы не знаете ответа, просто скажите об этом. Ничего не выдумывайте.
Не включайте информацию, для которой не предоставлены подтверждающие доказательства.
---Целевая длина и формат ответа---
{response_type}
"""


PROMPTS["fail_response"] = "К сожалению, я не могу дать ответ на этот вопрос."

PROMPTS["process_tickers"] = ["⠋", "⠙", "⠹", "⠸", "⠼", "⠴", "⠦", "⠧", "⠇", "⠏"]

PROMPTS["default_text_separator"] = [
    # Paragraph separators
    "#####",
    "####",
    "###",
    "##",
    "\n\n",
    "\r\n\r\n",
    # Line breaks
    "\n",
    "\r\n",
    # Sentence ending punctuation
    "。",  # Chinese period
    "．",  # Full-width dot
    ".",  # English period
    "！",  # Chinese exclamation mark
    "!",  # English exclamation mark
    "？",  # Chinese question mark
    "?",  # English question mark
    # Whitespace characters
    # " ",  # Space
    # "\t",  # Tab
    # "\u3000",  # Full-width space
    # # Special characters
    # "\u200b",  # Zero-width space (used in some Asian languages)
]
